# Local + OAuth — runs a local Authorization Server on PORT+1

PORT=3040
NODE_ENV=development
LOG_LEVEL=info

MCP_VERSION=0.1.0
MCP_PROTOCOL_VERSION=2025-06-18

MCP_ACCEPT_HEADERS="authorization,x-api-key,x-auth-token"

# Enable discovery and OAuth challenges
AUTH_ENABLED=true

# RS-only recommended for remote clients; optional locally
AUTH_REQUIRE_RS=true
AUTH_ALLOW_LINEAR_BEARER=false

# OAuth config for Linear
OAUTH_CLIENT_ID=replace_with_linear_client_id
OAUTH_CLIENT_SECRET=replace_with_linear_client_secret
OAUTH_AUTHORIZATION_URL=https://linear.app/oauth/authorize
OAUTH_TOKEN_URL=https://api.linear.app/oauth/token
OAUTH_REVOCATION_URL=https://api.linear.app/oauth/revoke
OAUTH_SCOPES="read write"

# Client redirect handling
OAUTH_REDIRECT_URI=alice://oauth/callback
OAUTH_REDIRECT_ALLOWLIST=alice://oauth/callback,https://claude.ai/api/mcp/auth_callback,https://claude.com/api/mcp/auth_callback,http://127.0.0.1:3041/linear/callback,http://localhost:3041/linear/callback

# Optional: allow Linear PAT fallback alongside RS tokens
# LINEAR_API_KEY=

# Limits
RPS_LIMIT=10
CONCURRENCY_LIMIT=5

# Persist RS↔Linear tokens to disk for dev
RS_TOKENS_FILE=.data/rs_tokens.json

